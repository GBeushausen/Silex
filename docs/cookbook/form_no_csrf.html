

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Disabling CSRF Protection on a Form using the FormExtension &#8212; PrestoPHP 2.4.2 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using YAML to configure Validation" href="validator_yaml.html" />
    <link rel="prev" title="Using PdoSessionStorage to store Sessions in the Database" href="session_storage.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="validator_yaml.html" title="Using YAML to configure Validation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="session_storage.html" title="Using PdoSessionStorage to store Sessions in the Database"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PrestoPHP 2.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Cookbook</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Disabling CSRF Protection on a Form using the FormExtension</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="disabling-csrf-protection-on-a-form-using-the-formextension">
<h1>Disabling CSRF Protection on a Form using the FormExtension<a class="headerlink" href="#disabling-csrf-protection-on-a-form-using-the-formextension" title="Permalink to this headline">¶</a></h1>
<p>The <em>FormExtension</em> provides a service for building form in your application
with the Symfony Form component. When the <a class="reference internal" href="../providers/csrf.html"><span class="doc">CSRF Service Provider</span></a> is registered, the <em>FormExtension</em> uses the CSRF Protection
avoiding Cross-site request forgery, a method by which a malicious user
attempts to make your legitimate users unknowingly submit data that they don’t
intend to submit.</p>
<p>You can find more details about CSRF Protection and CSRF token in the
<a class="reference external" href="https://symfony.com/doc/current/book/forms.html#csrf-protection">Symfony Book</a>.</p>
<p>In some cases (for example, when embedding a form in an html email) you might
want not to use this protection. The easiest way to avoid this is to
understand that it is possible to give specific options to your form builder
through the <code class="docutils literal notranslate"><span class="pre">createBuilder()</span></code> function.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="nv">$form</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s1">&#39;form.factory&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">createBuilder</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;csrf_protection&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<p>That’s it, your form could be submitted from everywhere without CSRF Protection.</p>
</div>
<div class="section" id="going-further">
<h2>Going further<a class="headerlink" href="#going-further" title="Permalink to this headline">¶</a></h2>
<p>This specific example showed how to change the <code class="docutils literal notranslate"><span class="pre">csrf_protection</span></code> in the
<code class="docutils literal notranslate"><span class="pre">$options</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">createBuilder()</span></code> function. More of them could
be passed through this parameter, it is as simple as using the Symfony
<code class="docutils literal notranslate"><span class="pre">getDefaultOptions()</span></code> method in your form classes. <a class="reference external" href="https://symfony.com/doc/current/book/forms.html#book-form-creating-form-classes">See more here</a>.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Disabling CSRF Protection on a Form using the FormExtension</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#going-further">Going further</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="session_storage.html"
                        title="previous chapter">Using PdoSessionStorage to store Sessions in the Database</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="validator_yaml.html"
                        title="next chapter">Using YAML to configure Validation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cookbook/form_no_csrf.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="validator_yaml.html" title="Using YAML to configure Validation"
             >next</a> |</li>
        <li class="right" >
          <a href="session_storage.html" title="Using PdoSessionStorage to store Sessions in the Database"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PrestoPHP 2.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Cookbook</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Disabling CSRF Protection on a Form using the FormExtension</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010-2021 Fabien Potencier, Gunnar Beushausen.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.0.
    </div>
  </body>
</html>